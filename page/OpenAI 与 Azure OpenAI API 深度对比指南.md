# OpenAI ä¸ Azure OpenAI API æ·±åº¦å¯¹æ¯”æŒ‡å—

> **æ³¨**ï¼šæœ¬æ–‡æ•°æ®åŸºäºå½“å‰å¸‚åœºæƒ…å†µï¼ŒAPIå®šä»·ä¸æœåŠ¡é™åˆ¶å¯èƒ½éšæ—¶é—´è°ƒæ•´ï¼Œå»ºè®®å®æ—¶æŸ¥é˜…å®˜ç½‘ç¡®è®¤æœ€æ–°ä¿¡æ¯

![äººå·¥æ™ºèƒ½APIå¯¹æ¯”](https://via.placeholder.com/800x400?text=AI+API+Comparison)

## æ ¸å¿ƒæœ¯è¯­è§£æ
ç†è§£APIæœåŠ¡éœ€æŒæ¡ä»¥ä¸‹å…³é”®æŒ‡æ ‡ï¼š
- **RPM** (æ¯åˆ†é’Ÿè¯·æ±‚é‡) - ç³»ç»Ÿæ¯åˆ†é’Ÿå¤„ç†è¯·æ±‚çš„ä¸Šé™
- **TPM** (æ¯åˆ†é’ŸTokenæ•°) - æ¯åˆ†é’Ÿå¯å¤„ç†çš„æ–‡æœ¬å•å…ƒæ€»é‡
- **RPD** (æ¯æ—¥è¯·æ±‚é‡) - æ¯æ—¥æœåŠ¡è°ƒç”¨æ¬¡æ•°é™åˆ¶
- **TPD** (æ¯æ—¥Tokenæ•°) - æ¯æ—¥å¯å¤„ç†çš„æ–‡æœ¬å•å…ƒæ€»é…é¢

ğŸ‘‰ [é‡å¡ | ä¸€åˆ†é’Ÿæ³¨å†Œï¼Œè½»æ¾è®¢é˜…æµ·å¤–çº¿ä¸ŠæœåŠ¡](https://bbtdd.com/yeka)

## æ–‡æœ¬è®¡é‡å·¥å…·
æ¨èå¼€å‘è€…ä½¿ç”¨å®˜æ–¹tokenè®¡ç®—å·¥å…·ï¼š
- OpenAIåœ¨çº¿åˆ†è¯å™¨ï¼ˆéœ€ä»£ç†è®¿é—®ï¼‰
- GitHubå¼€æºé¡¹ç›®tiktokençš„`cl100k_base`è¯è¡¨
- å¯¹äºæˆæœ¬æ•æ„Ÿçš„å‘é‡åŒ–åœºæ™¯ï¼Œå»ºè®®é€‰ç”¨æ€§ä»·æ¯”æ›´ä¼˜çš„`text-embedding-ada-002`

## ä¸»æµAPIæœåŠ¡è¯¦è§£

### â–OpenAIå®˜æ–¹æœåŠ¡
#### é˜¶æ¢¯å®šä»·æœºåˆ¶
| æ¨¡å‹                   | è¾“å…¥ä»·æ ¼ | è¾“å‡ºä»·æ ¼ | ç‰¹æ€§è¯´æ˜                  |
|------------------------|----------|----------|-------------------------|
| gpt-3.5-turbo-1106     | $0.0010  | $0.0020  | 3500 RPM / 60K TPM      |
| gpt-4                 | $0.03    | $0.06    | 500 RPM / 10K TPM       |
æ³¨æ„ï¼šæœˆæ¶ˆè´¹5-50ç¾å…ƒåŒºé—´ä¼šè‡ªåŠ¨æå‡é…é¢

#### ä¸»è¦é™åˆ¶å› ç´ 
1. æ–°è´¦å·åˆå§‹è°ƒç”¨é™é¢è¾ƒä½
2. IPåœ°ç†ä½ç½®å½±å“æ¥å£å¯ç”¨æ€§
3. æ‰¹é‡ä½¿ç”¨æ—¶éœ€è€ƒè™‘ä»£ç†æ± æ­å»º

### â–å¾®è½¯Azureäº‘æœåŠ¡
#### åŒºåŸŸå®šä»·èŒƒæœ¬ï¼ˆä»¥ä¸œäºŒåŒºä¸ºä¾‹ï¼‰
| æ¨¡å‹             | ä¸Šä¸‹æ–‡é•¿åº¦ | è¾“å…¥ä»·æ ¼ | è¾“å‡ºä»·æ ¼ |
|------------------|------------|----------|----------|
| GPT-3.5-Turbo 4K | 4,000      | $0.0015  | $0.002   |
| GPT-4 32K       | 32,000     | $0.06    | $0.12    |

#### æ ¸å¿ƒä¼˜åŠ¿å¯¹æ¯”
1. å›½å†…ç›´è¿æ— éœ€ä»£ç†
2. æ”¯æŒéƒ¨ç½²å¤šå‰¯æœ¬æå‡ååé‡
3. ä¼ä¸šçº§SLAæœåŠ¡ä¿éšœ

## æŠ€æœ¯æ’éšœæŒ‡å—

### é«˜é¢‘é”™è¯¯è§£æ
| é”™è¯¯ç±»å‹            | è§£å†³æ–¹æ¡ˆ                       | å®˜æ–¹æ–‡æ¡£å‚è€ƒ               |
|---------------------|--------------------------------|--------------------------|
| 404èµ„æºæœªæ‰¾åˆ°       | æ£€æŸ¥api-versionå‚æ•°æœ‰æ•ˆæ€§      | [APIç‰ˆæœ¬åˆ—è¡¨](##)        |
| ä¸æ”¯æŒçš„æ¥å£æ ¼å¼    | ç§»é™¤å†—ä½™`/chat`è·¯å¾„æ®µ          | [æ¥å£è§„èŒƒè¯´æ˜](##)       |

## æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ
### å®¢æˆ·ç«¯ä¼˜åŒ–
- å®ç°æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶
- é‡‡ç”¨è¯·æ±‚é˜Ÿåˆ—åˆ†æµç®—æ³•
- æœ¬åœ°ç¼“å­˜é«˜é¢‘å“åº”å†…å®¹

### æœåŠ¡æ¶æ„ä¼˜åŒ–
mermaid
graph TD
    A[è¯·æ±‚ç½‘å…³] --> B{è´Ÿè½½å‡è¡¡}
    B --> C[Azure éƒ¨ç½²ç»„]
    B --> D[OpenAI ä»£ç†æ± ]
    C --> E((APIå“åº”))
    D --> E


## æˆ˜ç•¥é€‰å‹å»ºè®®
1. **åˆè§„ä¼˜å…ˆåœºæ™¯**ï¼šä¼˜å…ˆé€‰æ‹©Azureäº‘æœåŠ¡
2. **å¼€å‘æµ‹è¯•ç¯å¢ƒ**ï¼šä½¿ç”¨OpenAIå…è´¹é¢åº¦
3. **é«˜å¹¶å‘ç”Ÿäº§**ï¼šæ„å»ºå¤šè´¦æˆ·ä»£ç†é›†ç¾¤
4. **æ•æ„Ÿæ•°æ®å¤„ç†**ï¼šAzureä¼ä¸šçº§å®‰å…¨æ–¹æ¡ˆ

ğŸ‘‰ [ç«‹å³å¼€é€šAIæœåŠ¡æ”¯æŒ](https://bbtdd.com/yeka) ACCPAY

## å…³é”®æŠ€æœ¯è·¯çº¿
python
# æ™ºèƒ½è·¯ç”±ç¤ºä¾‹ä»£ç 
def route_api_request(request):
    if require_enterprise_feature(request):
        return azure_endpoint
    elif cost_sensitive(request):
        return openai_pool.get_available_node()
    else:
        return default_provider


**å»¶ä¼¸é˜…è¯»**ï¼šæœ€æ–°APIè°ƒç”¨ç›‘æ§æ–¹æ¡ˆå»ºè®®é‡‡ç”¨Prometheus+Grafanaæ­å»ºå®æ—¶å¯è§†åŒ–çœ‹æ¿